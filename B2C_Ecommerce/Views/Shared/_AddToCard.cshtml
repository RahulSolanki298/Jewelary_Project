@model Models.AddToCardModal
@using Common
@{ 
    decimal total = 0;
    decimal ptotal = 0;

}

<div class="minicart-inner-content">
    <div class="minicart-close" id="btnClose">
        <i class="pe-7s-close"></i>
    </div>
    <div class="minicart-content-box">
        <div class="minicart-item-wrapper">
            <ul>
                @if (Model.Diamonds != null)
                {
                    @foreach (var item in Model.Diamonds)
                    {
                        <li class="minicart-item">
                            <div class="minicart-thumb">
                                <a href="product-details.html">
                                    <input type="hidden" diamondId="@item.Id"/>
                                    <img src="@SD.ImgUrl/@item.IconPath" style="width:100px;" alt="Diamond">
                                </a>
                            </div>
                            <div class="minicart-content">
                                <h3 class="product-name">
                                    <a href="product-details.html">@item.Carat Carat @item.ShapeName Shape @item.ColorName  @item.ClarityName @item.LabName</a>
                                </h3>
                                <p>
                                    @*<span class="cart-quantity">1<strong>&times;</strong></span>*@
                                    <span class="cart-price">$ @item.Price</span>
                                </p>
                            </div>
                            <button class="minicart-remove"><i class="pe-7s-close"></i></button>
                        </li>
                        total += item.Price.Value;
                    }
                }
                @if (Model.Jewelleries != null)
                {
                    foreach (var item in Model.Jewelleries)
                    {
                        <li class="minicart-item">
                            <div class="minicart-thumb">
                                <a href="product-details.html">
                                    <img src="@SD.ImgUrl/@item.ProductImageVideos.FirstOrDefault().ImageUrl" style="width:100px;" alt="Diamond">
                                </a>
                            </div>
                            <div class="minicart-content">
                                <h3 class="product-name">
                                    <a href="product-details.html">@item.Carat Carat @item.ShapeName Shape @item.ColorName  @item.ClarityName @item.Certificate</a>
                                </h3>
                                <p>
                                    @*<span class="cart-quantity">1<strong>&times;</strong></span>*@
                                    <span class="cart-price">$ @item.Price</span>
                                </p>
                            </div>
                            <button class="minicart-remove"><i class="pe-7s-close"></i></button>
                        </li>
                        ptotal += item.Price.Value;
                    }
                }

            </ul>
        </div>
        @{
            var gtotal = total + ptotal;
        }
        <div class="minicart-pricing-box">
            <ul>
                <li>
                    <span>sub-total</span>
                    <span><strong>$ @(gtotal)</strong></span>
                </li>
                <li>
                    <span>Eco Tax (-2.00)</span>
                    <span><strong>$10.00</strong></span>
                </li>
                <li>
                    <span>VAT (20%)</span>
                    <span><strong>$60.00</strong></span>
                </li>
                <li class="total">
                    <span>total</span>
                    <span><strong>$ @(gtotal+10+60)</strong></span>
                </li>
            </ul>
        </div>

        <div class="minicart-button">
            <a href="cart.html"><i class="fa fa-shopping-cart"></i> View Cart</a>
            <a href="cart.html"><i class="fa fa-share"></i> Checkout</a>
        </div>
    </div>
</div>